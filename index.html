<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CoinGecko Hard Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<h2>CoinGecko Hard Test</h2>
<div id="status">Page loaded</div>
<pre id="out">Waiting…</pre>

<script>
window.onload = function () {
  const out = document.getElementById("out");
  const status = document.getElementById("status");

  status.textContent = "Running fetch…";

  fetch(
    "https://api.coingecko.com/api/v3/nfts/bored-ape-yacht-club?x_cg_demo_api_key=CG-wsr54JajbpXGMajeRzYgZVQW"
  )
  .then(r => {
    status.textContent = "HTTP " + r.status;
    return r.json();
  })
  .then(d => {
    out.textContent =
      "BAYC FLOOR\n\n" +
      d.floor_price.native_currency + " ETH\n" +
      "$" + Math.round(d.floor_price.usd).toLocaleString();
  })
  .catch(e => {
    out.textContent = "ERROR:\n" + e.message;
  });
};
</script>

</body>
</html>
